(this.webpackJsonpmisemise=this.webpackJsonpmisemise||[]).push([[0],{33:function(e,t,a){e.exports=a(67)},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),c=a.n(r),i=a(7),l=a(3),s=a(10),u=a(4),m=a(70),p=a(69),d=a(24),f=a.n(d),v=(Object(m.a)("GET_MISE_DATA"),function(e){return function(t){(function(e){var t=e.naver,a=e._lat,n=e._lng;return new Promise((function(e){t.maps.Service.reverseGeocode({location:new t.maps.LatLng(a,n)},(function(a,n){if(a===t.maps.Service.Status.OK){var o=n.result.items[0];e(o)}}))}))})(e).then((function(t){return function(e){console.log("getMiose",e);var t="/sig?zoomLevel=".concat(e.zoomLevel,"&parentCd=").concat(e.parentCd),a="/emd?zoomLevel=".concat(e.zoomLevel,"&parentCd=").concat(e.parentCd),n="/country?zoomLevel=".concat(e.zoomLevel,"&parentCd=").concat(e.parentCd),o="https://misemise-server303.herokuapp.com"+(2===e.zoomLevel?n:4===e.zoomLevel?t:6===e.zoomLevel?a:"");return f.a.request({headers:{"Content-Type":"application/json;charset=UTF-8"},method:"GET",url:o})}(Object(u.a)({},e,{addr:t}))})).then((function(a){t({type:"GET_MISE_DATA",payload:Object(u.a)({},a,{},e)})})).catch((function(a){t({type:"GET_MISE_DATA",payload:Object(u.a)({},a,{},e)})}))}}),g=Object(p.a)(Object(s.a)({},"GET_MISE_DATA",(function(e,t){var a=t.payload,n=a.data,o=a._lat,r=a._lng,c=a.map,i=a.zoomLevel,l=[];return n&&n.geoData&&(l=n.geoData.map((function(e){return{id:e.properties.LOC_KOR_NM,name:e.properties.AIR_LV,etc:e.properties.KOR_LV}}))),Object(u.a)({},e,{zoomLevel:i,mapObj:c,lat:o,lng:r,data:n,gridData:l})})),{data:{},mapObj:{},zoomLevel:2,lat:36.9257913,lng:127.87798}),b=a(25),h=Object(l.c)(g,Object(l.a)(b.a)),C=a(26),L=a(27),O=a(31),_=a(28),y=a(32),j=a(29),w=a.n(j),z={fillOpacity:.6,fillColor:"#ff0000",strokeColor:"#ff0000",strokeWeight:2,strokeOpacity:.5},D=function(e){function t(){var e;return Object(C.a)(this,t),(e=Object(O.a)(this,Object(_.a)(t).call(this))).map=o.a.createRef(),e}return Object(y.a)(t,e),Object(L.a)(t,[{key:"loadScriptPromise",value:function(e){var t="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=".concat(e,"&submodules=geocoder");return w()(t).then((function(){return new Promise((function(e){window.naver.maps.onJSContentLoaded=function(){e(window.naver)}}))}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.ncpClientId,n=t.getDataAsync,o=t._lat,r=t._lng,c=t.zoomLevel;this.loadScriptPromise(a).then((function(t){var a=[2,4,6],i=a[a.length-1],l=a[0],s={logoControl:!1,mapDataControl:!1,scaleControl:!1,center:new t.maps.LatLng(o,r),draggable:!1,scrollWheel:!1,keyboardShortcuts:!1,disableDoubleTapZoom:!0,disableDoubleClickZoom:!0,disableTwoFingerTapZoom:!0,zoom:c,maxZoom:i,minZoom:l},m=new t.maps.Map("map",s);return e.setState((function(e){return Object(u.a)({},e,{newMap:m,parentCd:[]})})),m.data.setStyle((function(e){switch(e.property_KOR_LV){case"\uc88b\uc74c":z.fillColor="#117cf6";break;case"\ubcf4\ud1b5":z.fillColor="#50af32";break;case"\ub098\uc068":z.fillColor="#c4b341";break;case"\ub9e4\uc6b0\ub098\uc068":z.fillColor="#d36f36"}return z})),m.data.addListener("mouseover",(function(e){m.data.overrideStyle(e.feature,{strokeWeight:8}),m.data.addListener("mouseout",(function(e){m.data.revertStyle()}))})),m.data.addListener("click",(function(o){var r=o.feature,c=o.feature.bounds.getCenter(),l=c.x,s=c.y,u=m.getZoom();if(i>u){var p=r.property_LOC_CD,d=a[a.indexOf(u)+1]||u,f=e.state.parentCd.slice();e.setState({parentCd:f}),f.push(p),m.setZoom(d),m.setCenter(new t.maps.LatLng(s,l)),n({_lat:s,_lng:l,zoomLevel:d,naver:t,map:m,parentCd:p,feature:r})}})),m.data.addListener("rightclick",(function(o){var r=o.feature.bounds.getCenter(),c=r.x,i=r.y,s=m.getZoom();if(l<s){var u=a.indexOf(s)-1,p=a[u]||s;m.setZoom(p),m.setCenter(new t.maps.LatLng(i,c));var d=e.state.parentCd.shift();n({_lat:i,_lng:c,zoomLevel:p,naver:t,map:m,parentCd:d})}})),n({_lat:o,_lng:r,zoomLevel:c,naver:t,map:m})})).catch((function(e){console.error(e)}))}},{key:"shouldComponentUpdate",value:function(e,t){var a=e.data;if(a&&a.geoData){var n=t.newMap.data.getAllFeature();if(n.length>0)for(;n.length>0;){var o=n[0];t.newMap.data.removeFeature(o)}a.geoData.forEach((function(e){t.newMap.data.addGeoJson(e)}))}return!0}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"map",style:{width:"100%",height:"600px"},ref:this.map}))}}]),t}(n.Component),k=Object(i.b)((function(e){return{mapObj:e.mapObj,_lat:e.lat,_lng:e.lng,zoomLevel:e.zoomLevel,data:e.data}}),(function(e){return{getDataAsync:Object(l.b)(v,e)}}))(D),E=(a(61),a(30)),S=a.n(E),T=[{name:"id",title:"\uc9c0\uc5ed"},{name:"name",title:"\uc218\uce58"},{name:"etc",title:"\ub2e8\uacc4"}],A=Object(i.b)((function(e){return{gridData:e.gridData}}),(function(e){return{getDataAsync:Object(l.b)(v,e)}}))((function(e){var t=e.gridData;return o.a.createElement(o.a.Fragment,null,o.a.createElement(k,{ncpClientId:"har461wdhc"}),o.a.createElement(S.a,{data:t,columns:T,rowHeight:25,bodyHeight:100,virtualScrolling:!0,heightResizable:!1,rowHeaders:["rowNum"]}))}));a(66);c.a.render(o.a.createElement(i.a,{store:h},o.a.createElement(A,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.1b3b9f94.chunk.js.map